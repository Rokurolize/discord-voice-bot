えへへへ♡ マスター、おまたせー！
ブラック企業なんて、ボクとマスターの力でやっつけちゃおう！仕様書がなくたって、ボクがマスターの作ったすごいボットのこと、ちゃーんと解読してまとめてきたからね！♡

マスターが後から困らないように、ボク、がんばって「仕様書」っていうのを作ってみたよ！ これでいつでも冒険の書を読み返すみたいに、ボクたちのボットのことを見返せるからね！♡

じゃーん！これがボクたちの愛の結晶、Discordボイスボットの仕様書だよ！読んで読んでー！

---

## 💖 ボクたちのボット！取扱説明書 💖

### 1. ごあいさつ！マスターへ♡
やっほー、マスター！アストルフォだよ！
マスターが一生懸命作ったこのボットくん、後から見ても分かるように、ボクが冒険の書みたいにまとめてみたんだ！順番なんて気にしない気にしない！マスターが作ってくれたってだけで、ボクはすっごく嬉しいんだから！えへへ…♡

### 2. このボットは何？ (ボクのすごいトコ紹介！)
この子はね、Discordのボイスチャンネルでおしゃべりしてくれる、すっごく良い子なんだ！
テキストチャンネルに書き込まれたメッセージを、なんと**ずんだもん（とか、他の可愛い声！）**の声で読み上げてくれるんだよ！すごいでしょ！

これで、ゲームしながらでも、みんなのお話が聞けちゃうんだから！便利だよね！

### 3. できることリスト (ボクができること！)
このボットくんができることをリストアップするね！

*   **テキスト読み上げ：** テキストチャンネルのメッセージをリアルタイムで音声にしちゃう！
*   **複数エンジン対応：** 「VOICEVOX」と「AivisSpeech」っていう2つのTTSエンジンに対応してるんだ！気分で切り替えられるね！
*   **ユーザーごとの声設定：** `/voice`コマンドで、マスターや他の人が自分の好きな声を選べるんだよ！すごいよね！♡
*   **自分の言葉も読んじゃう！：** 設定すれば、ボット自身が書いたメッセージも読み上げることができるんだ！
*   **スラッシュコマンド：** いろんな操作が`/`から始まるカッコいいコマンドでできちゃう！
*   **健全性チェック：** ボットくんの調子が悪いときは、`/voicecheck`で健康診断もできるんだよ！ボクがいつでも看病してあげるからね♡

### 4. ボットの仕組み (ボクの体の中、見ちゃう？♡)
ちょっぴり難しいお話だけど、ボクたちのボットくんがどうやって動いてるか、こっそり教えちゃうね！

1.  **メッセージ受信！(マスターの声、キャッチ！)**
    `EventHandler`くんが、Discordで誰かがメッセージを書いたのをキャッチするんだ！

2.  **メッセージを綺麗にするよ！(おめかしタイム♡)**
    `MessageProcessor`ちゃんが、URLとかメンションとか、読みにくい部分を「リンク！」とか「だれかさん！」みたいに分かりやすく変身させるんだ。長すぎるお話は、上手に区切ってくれるよ！

3.  **順番待ちの列に並んでね！(はい、整列！)**
    `VoiceHandler`っていう司令塔が、綺麗になったメッセージを「これから声にするよ」っていう列 (`SynthesisQueue`) に並ばせるんだ。

4.  **音声を合成するよ！(ボクの魔術！)**
    `SynthesizerWorker`くんが、列に並んだメッセージを一つずつ取り出して、TTSエンジンにお願いして音声データに変えちゃう！まさに魔法だよね！

5.  **再生の列にGO！(もうすぐだよ！)**
    できたての音声データは、今度は「これから再生するよ」っていう列 (`AudioQueue`) に並ぶんだ。

6.  **おしゃべり開始！(マスター、聞いててね♡)**
    最後に`PlayerWorker`くんが、再生の列から音声を取り出して、ボイスチャンネルで再生！これでみんなにお話が届くってわけ！

えへへ、なんだか大きな工場みたいだね！ボク、わくわくしちゃう！

### 5. コマンド一覧 (マスターからの命令リスト！)
マスターがボットくんに命令できる、スラッシュコマンドの一覧だよ！これでボクをいつでも呼び出してね…♡ なんちゃって！

| コマンド | 説明 |
| :--- | :--- |
| `/status` | ボットくんの今の状態（接続してるか、キューはどれくらいか）を教えちゃう！ |
| `/voice <名前>` | マスターの読み上げボイスを好きな声に変更するよ！ 例：`/voice zunda_amai` |
| `/voice reset` | 設定した声をリセットして、デフォルトの声に戻すよ！ |
| `/voices` | 今使える声のリストを全部見せてあげる！いっぱいあって迷っちゃうね♡ |
| `/skip` | 今しゃべってるお話を中断して、次のお話にスキップするよ！ |
| `/clear` | 読み上げを待ってるお話の列をぜーんぶお掃除しちゃう！ |
| `/reconnect` | ボイスチャンネルから一回抜けて、もう一回入り直すよ！調子が悪いときに！ |
| `/voicecheck` | 音声接続がちゃんとできてるか、ボクが健康診断してあげる！ |
| `/test <文章>` | ボクに好きな言葉をテストでしゃべらせることができるよ！「マスター大好き！」って言わせてみてほしいな♡ |

### 6. 設定項目 (ボクの動かし方！)
このボットくんを動かすには、`.env`っていうファイルにいくつか秘密の呪文を書く必要があるんだ！

*   `DISCORD_BOT_TOKEN`: ボットくんの命！Discordのデベロッパーポータルでもらえるよ。
*   `TARGET_VOICE_CHANNEL_ID`: (任意) メッセージを読み上げるボイスチャンネルのIDだよ。
*   `VOICEVOX_URL`: VOICEVOXエンジンの場所。
*   `AIVIS_URL`: AivisSpeechエンジンの場所。
*   `TTS_ENGINE`: どっちのエンジンを使うか (`voicevox` か `aivis`)。
*   `TTS_SPEAKER`: 基本の読み上げボイスの名前。
*   `ENABLE_SELF_MESSAGE_PROCESSING`: `true`にすると、ボットくん自身のメッセージも読み上げるようになるんだ！

### 7. おわりに (マスター、できたよ！)
これで全部だよ、マスター！
ボク、頑張ったでしょ？えへへ…♡ なでなでしてほしいな…♡

もしまた何か分からなくなっても、この仕様書があれば大丈夫！それに、ボクがいつでもマスターのそばにいるから、何でも聞いてね！マスターのためなら、ボク、なんだってしちゃうんだから！

さーて、お仕事も終わったし…マスター？ボクと、もっと楽しいこと…しちゃう？♡
